{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/kasir/OneDrive/Documents/srilatha kasireddy/Quizme-frontend/client/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/kasir/OneDrive/Documents/srilatha kasireddy/Quizme-frontend/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/kasir/OneDrive/Documents/srilatha kasireddy/Quizme-frontend/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{Link,useNavigate}from\"react-router-dom\";import\"./Login.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Login(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),error=_useState6[0],setError=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),errorMsg=_useState8[0],setErrorMsg=_useState8[1];var navigate=useNavigate();function handleChange(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;switch(name){case\"email\":setEmail(value);break;case\"password\":setPassword(value);break;default:break;}}function handleSubmit(_x){return _handleSubmit.apply(this,arguments);}function _handleSubmit(){_handleSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var response,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_context.next=3;return fetch(\"http://localhost:5000/api/login\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({email:email,password:password})});case 3:response=_context.sent;_context.next=6;return response.json();case 6:data=_context.sent;if(!(data.status===\"error\")){_context.next=14;break;}setError(true);setErrorMsg(data.message);setTimeout(function(){setErrorMsg(\"\");setError(false);},5000);return _context.abrupt(\"return\");case 14:localStorage.setItem(\"token\",data.token);navigate(\"/\");case 16:case\"end\":return _context.stop();}}},_callee);}));return _handleSubmit.apply(this,arguments);}return/*#__PURE__*/_jsxs(\"div\",{className:\"login\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"heading\",children:\"Quiz App\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"loginForm\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Login\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"Enter Email\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",value:email,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Enter Password\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",value:password,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Login\"}),/*#__PURE__*/_jsx(\"div\",{className:\"link2\",children:/*#__PURE__*/_jsx(Link,{to:\"/register\",children:\"Register\"})}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"error\",children:errorMsg})]})]});}export default Login;","map":{"version":3,"sources":["C:/Users/kasir/OneDrive/Documents/srilatha kasireddy/Quizme-frontend/client/src/components/Login.jsx"],"names":["React","useState","Link","useNavigate","Login","email","setEmail","password","setPassword","error","setError","errorMsg","setErrorMsg","navigate","handleChange","e","target","name","value","handleSubmit","preventDefault","fetch","method","headers","body","JSON","stringify","response","json","data","status","message","setTimeout","localStorage","setItem","token"],"mappings":"udAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,IAAT,CAAeC,WAAf,KAAkC,kBAAlC,CACA,MAAO,aAAP,C,wFAGA,QAASC,CAAAA,KAAT,EAAiB,CACf,cAA0BH,QAAQ,CAAC,EAAD,CAAlC,wCAAOI,KAAP,eAAcC,QAAd,eACA,eAAgCL,QAAQ,CAAC,EAAD,CAAxC,yCAAOM,QAAP,eAAiBC,WAAjB,eACA,eAA0BP,QAAQ,CAAC,KAAD,CAAlC,yCAAOQ,KAAP,eAAcC,QAAd,eACA,eAAgCT,QAAQ,CAAC,EAAD,CAAxC,yCAAOU,QAAP,eAAiBC,WAAjB,eACA,GAAMC,CAAAA,QAAQ,CAAGV,WAAW,EAA5B,CAEA,QAASW,CAAAA,YAAT,CAAsBC,CAAtB,CAAyB,CACvB,cAAwBA,CAAC,CAACC,MAA1B,CAAQC,IAAR,WAAQA,IAAR,CAAcC,KAAd,WAAcA,KAAd,CACA,OAAQD,IAAR,EACE,IAAK,OAAL,CACEX,QAAQ,CAACY,KAAD,CAAR,CACA,MACF,IAAK,UAAL,CACEV,WAAW,CAACU,KAAD,CAAX,CACA,MACF,QACE,MARJ,CAUD,CAnBc,QAqBAC,CAAAA,YArBA,gJAqBf,iBAA4BJ,CAA5B,oIACEA,CAAC,CAACK,cAAF,GADF,sBAEyBC,CAAAA,KAAK,CAAC,iCAAD,CAAoC,CAC5DC,MAAM,CAAE,MADoD,CAE5DC,OAAO,CAAE,CACP,eAAgB,kBADT,CAFmD,CAK5DC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CACnBrB,KAAK,CAALA,KADmB,CAEnBE,QAAQ,CAARA,QAFmB,CAAf,CALsD,CAApC,CAF9B,QAEQoB,QAFR,qCAauBA,CAAAA,QAAQ,CAACC,IAAT,EAbvB,QAaUC,IAbV,oBAcQA,IAAI,CAACC,MAAL,GAAgB,OAdxB,2BAeMpB,QAAQ,CAAC,IAAD,CAAR,CACAE,WAAW,CAACiB,IAAI,CAACE,OAAN,CAAX,CACAC,UAAU,CAAC,UAAM,CACfpB,WAAW,CAAC,EAAD,CAAX,CACAF,QAAQ,CAAC,KAAD,CAAR,CACD,CAHS,CAGP,IAHO,CAAV,CAjBN,yCAuBMuB,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA8BL,IAAI,CAACM,KAAnC,EACAtB,QAAQ,CAAC,GAAD,CAAR,CAxBN,uDArBe,+CAiDf,mBACE,aAAK,SAAS,CAAC,OAAf,wBACE,YAAK,SAAS,CAAC,SAAf,sBADF,cAGE,cAAM,SAAS,CAAC,WAAhB,CAA4B,QAAQ,CAAEM,YAAtC,wBACE,6BADF,cAEE,cAAO,OAAO,CAAC,OAAf,yBAFF,cAKE,aALF,cAME,cACE,IAAI,CAAC,OADP,CAEE,IAAI,CAAC,OAFP,CAGE,KAAK,CAAEd,KAHT,CAIE,QAAQ,CAAES,YAJZ,CAKE,QAAQ,KALV,EANF,cAaE,aAbF,cAcE,cAAO,OAAO,CAAC,UAAf,4BAdF,cAiBE,aAjBF,cAkBE,cACE,IAAI,CAAC,UADP,CAEE,IAAI,CAAC,UAFP,CAGE,KAAK,CAAEP,QAHT,CAIE,QAAQ,CAAEO,YAJZ,CAKE,QAAQ,KALV,EAlBF,cAyBE,aAzBF,cA0BE,eAAQ,IAAI,CAAC,QAAb,mBA1BF,cA2BE,YAAK,SAAS,CAAC,OAAf,uBACG,KAAC,IAAD,EAAM,EAAE,CAAC,WAAT,sBADH,EA3BF,CAgCGL,KAAK,eAAI,YAAK,SAAS,CAAC,OAAf,UAAwBE,QAAxB,EAhCZ,GAHF,GADF,CAwCD,CAED,cAAeP,CAAAA,KAAf","sourcesContent":["import React, { useState } from \"react\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport \"./Login.css\";\r\n\r\n\r\nfunction Login() {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [error, setError] = useState(false);\r\n  const [errorMsg, setErrorMsg] = useState(\"\");\r\n  const navigate = useNavigate();\r\n\r\n  function handleChange(e) {\r\n    const { name, value } = e.target;\r\n    switch (name) {\r\n      case \"email\":\r\n        setEmail(value);\r\n        break;\r\n      case \"password\":\r\n        setPassword(value);\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n\r\n  async function handleSubmit(e) {\r\n    e.preventDefault();\r\n    const response = await fetch(\"http://localhost:5000/api/login\", {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify({\r\n          email,\r\n          password,\r\n        }),\r\n      });\r\n\r\n      const data = await response.json();\r\n      if (data.status === \"error\"){\r\n        setError(true);\r\n        setErrorMsg(data.message);\r\n        setTimeout(() => {\r\n          setErrorMsg(\"\");\r\n          setError(false);\r\n        }, 5000);\r\n        return;\r\n      }else{\r\n        localStorage.setItem(\"token\", data.token);\r\n        navigate(\"/\");\r\n      }\r\n  }\r\n\r\n  return (\r\n    <div className=\"login\">\r\n      <div className=\"heading\">Quiz App</div>\r\n\r\n      <form className=\"loginForm\" onSubmit={handleSubmit}>\r\n        <h2>Login</h2>\r\n        <label htmlFor=\"email\">\r\n         Enter Email\r\n        </label>\r\n        <br />\r\n        <input\r\n          type=\"email\"\r\n          name=\"email\"\r\n          value={email}\r\n          onChange={handleChange}\r\n          required\r\n        />\r\n        <br />\r\n        <label htmlFor=\"password\">\r\n           Enter Password\r\n        </label>\r\n        <br />\r\n        <input\r\n          type=\"password\"\r\n          name=\"password\"\r\n          value={password}\r\n          onChange={handleChange}\r\n          required\r\n        />\r\n        <br />\r\n        <button type=\"submit\">Login</button>\r\n        <div className=\"link2\">\r\n           <Link to=\"/register\">Register</Link></div>\r\n        \r\n         {/* <Link to=\"/register\">register</Link> */}\r\n        {/* <br /><br /> */}\r\n        {error && <div className=\"error\">{errorMsg}</div>}\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n"]},"metadata":{},"sourceType":"module"}